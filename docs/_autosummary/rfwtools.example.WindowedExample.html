<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>rfwtools.example.WindowedExample &mdash; rfwtools 1.1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="rfwtools.example_set" href="rfwtools.example_set.html" />
    <link rel="prev" title="rfwtools.example.IExample" href="rfwtools.example.IExample.html" />
    <link href="../_static/rtd_custom.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> rfwtools
          </a>
              <div class="version">
                1.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="rfwtools.html">rfwtools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="rfwtools.config.html">rfwtools.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="rfwtools.data_set.html">rfwtools.data_set</a></li>
<li class="toctree-l2"><a class="reference internal" href="rfwtools.dim_reduction.html">rfwtools.dim_reduction</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="rfwtools.example.html">rfwtools.example</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="rfwtools.example.Example.html">rfwtools.example.Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="rfwtools.example.ExampleType.html">rfwtools.example.ExampleType</a></li>
<li class="toctree-l3"><a class="reference internal" href="rfwtools.example.Factory.html">rfwtools.example.Factory</a></li>
<li class="toctree-l3"><a class="reference internal" href="rfwtools.example.IExample.html">rfwtools.example.IExample</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">rfwtools.example.WindowedExample</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rfwtools.example_set.html">rfwtools.example_set</a></li>
<li class="toctree-l2"><a class="reference internal" href="rfwtools.example_validator.html">rfwtools.example_validator</a></li>
<li class="toctree-l2"><a class="reference internal" href="rfwtools.extractor.html">rfwtools.extractor</a></li>
<li class="toctree-l2"><a class="reference internal" href="rfwtools.feature_set.html">rfwtools.feature_set</a></li>
<li class="toctree-l2"><a class="reference internal" href="rfwtools.mya.html">rfwtools.mya</a></li>
<li class="toctree-l2"><a class="reference internal" href="rfwtools.network.html">rfwtools.network</a></li>
<li class="toctree-l2"><a class="reference internal" href="rfwtools.timestamp.html">rfwtools.timestamp</a></li>
<li class="toctree-l2"><a class="reference internal" href="rfwtools.utils.html">rfwtools.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="rfwtools.visualize.html">rfwtools.visualize</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">rfwtools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="rfwtools.html">rfwtools</a> &raquo;</li>
          <li><a href="rfwtools.example.html">rfwtools.example</a> &raquo;</li>
      <li>rfwtools.example.WindowedExample</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/rfwtools.example.WindowedExample.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rfwtools-example-windowedexample">
<h1>rfwtools.example.WindowedExample<a class="headerlink" href="#rfwtools-example-windowedexample" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rfwtools.example.</span></span><span class="sig-name descname"><span class="pre">WindowedExample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zone</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cavity_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fault_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cavity_conf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fault_conf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rfwtools/example.html#WindowedExample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#rfwtools.example.WindowedExample" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="rfwtools.example.Example.html#rfwtools.example.Example" title="rfwtools.example.Example"><code class="xref py py-class docutils literal notranslate"><span class="pre">Example</span></code></a></p>
<p>An extension of Example class that allows the caller to specify only a time-window of event_df be returned.</p>
<p>This window is based on the relative values in the Time column.  The standard time range is approximately
[-1500, 100], but this is variable depending on control system settings.  An Exception is raised at load time if the
specified time range is not a strict subset of the Examples Time column.</p>
<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zone</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cavity_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fault_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cavity_conf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fault_conf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rfwtools/example.html#WindowedExample.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#rfwtools.example.WindowedExample.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Construct an instance th will only store the required window upon a load_data() call.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – The start of the time window.</p></li>
<li><p><strong>n_samples</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The number of samples to include after the start of the window.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.__init__" title="rfwtools.example.WindowedExample.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(zone, dt, cavity_label, ...[, data_dir])</p></td>
<td><p>Construct an instance th will only store the required window upon a load_data() call.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.capture_files_on_disk" title="rfwtools.example.WindowedExample.capture_files_on_disk"><code class="xref py py-obj docutils literal notranslate"><span class="pre">capture_files_on_disk</span></code></a>([compressed])</p></td>
<td><p>Checks if captures files are currently saved to disk.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.convert_waveform_column_names" title="rfwtools.example.WindowedExample.convert_waveform_column_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert_waveform_column_names</span></code></a>(columns)</p></td>
<td><p>Turns waveform PV names (R1M1WFSGMES) into more uniform name based on cavity and waveform (1_GMES)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.get_capture_file_contents" title="rfwtools.example.WindowedExample.get_capture_file_contents"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_capture_file_contents</span></code></a>()</p></td>
<td><p>Creates a dictionary of capture file content.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.get_event_path" title="rfwtools.example.WindowedExample.get_event_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_event_path</span></code></a>([compressed])</p></td>
<td><p>Generates the expected location for uncompressed event waveform data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.get_example_type" title="rfwtools.example.WindowedExample.get_example_type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_example_type</span></code></a>()</p></td>
<td><p>Get this Example's ExampleType.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.has_matching_labels" title="rfwtools.example.WindowedExample.has_matching_labels"><code class="xref py py-obj docutils literal notranslate"><span class="pre">has_matching_labels</span></code></a>(example)</p></td>
<td><p>Check if the supplied example has the same cavity and fault type label.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.is_capture_file" title="rfwtools.example.WindowedExample.is_capture_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_capture_file</span></code></a>(filename)</p></td>
<td><p>Validates if filename appears to be a valid capture file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.load_data" title="rfwtools.example.WindowedExample.load_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_data</span></code></a>([verbose])</p></td>
<td><p>Load the fault event data according to Example.load_data() and retain only the defined time window.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.parse_capture_file" title="rfwtools.example.WindowedExample.parse_capture_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_capture_file</span></code></a>(file)</p></td>
<td><p>Parses an individual capture file into a Pandas DataFrame object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.parse_event_dir" title="rfwtools.example.WindowedExample.parse_event_dir"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_event_dir</span></code></a>(event_path[, compressed])</p></td>
<td><p>Parses the  capture files in the BaseModel's event_dir and sets event_df to the appropriate pandas DataFrame.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.plot_waveforms" title="rfwtools.example.WindowedExample.plot_waveforms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_waveforms</span></code></a>([signals, downsample])</p></td>
<td><p>Plot the waveform data associated with this example.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.remove_event_df_from_disk" title="rfwtools.example.WindowedExample.remove_event_df_from_disk"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_event_df_from_disk</span></code></a>()</p></td>
<td><p>Deletes the 'cached' event waveform data for this event from disk.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.save_event_df_to_disk" title="rfwtools.example.WindowedExample.save_event_df_to_disk"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_event_df_to_disk</span></code></a>(event_df)</p></td>
<td><p>This method is saves the event waveform DataFrame to disk.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.to_string" title="rfwtools.example.WindowedExample.to_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_string</span></code></a>()</p></td>
<td><p>This provides a more descriptive string than __str__.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.unload_data" title="rfwtools.example.WindowedExample.unload_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unload_data</span></code></a>([verbose])</p></td>
<td><p>Top-level method for deleting the Examples data (event_df) from memory.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.capture_file_regex" title="rfwtools.example.WindowedExample.capture_file_regex"><code class="xref py py-obj docutils literal notranslate"><span class="pre">capture_file_regex</span></code></a></p></td>
<td><p>A regex for matching capture file filenames</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.e_type" title="rfwtools.example.WindowedExample.e_type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">e_type</span></code></a></p></td>
<td><p>The type of Example this represents.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.start" title="rfwtools.example.WindowedExample.start"><code class="xref py py-obj docutils literal notranslate"><span class="pre">start</span></code></a></p></td>
<td><p>The start of the window relative to the fault onset</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.n_samples" title="rfwtools.example.WindowedExample.n_samples"><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_samples</span></code></a></p></td>
<td><p>The number of samples requested after the start value</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rfwtools.example.WindowedExample.end" title="rfwtools.example.WindowedExample.end"><code class="xref py py-obj docutils literal notranslate"><span class="pre">end</span></code></a></p></td>
<td><p>(float) The last Time value in the window.</p></td>
</tr>
</tbody>
</table>
<dl class="py attribute">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.capture_file_regex">
<span class="sig-name descname"><span class="pre">capture_file_regex</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('R.*harv\\..*\\.txt')</span></em><a class="headerlink" href="#rfwtools.example.WindowedExample.capture_file_regex" title="Permalink to this definition"></a></dt>
<dd><p>A regex for matching capture file filenames</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>(re.Pattern)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.capture_files_on_disk">
<span class="sig-name descname"><span class="pre">capture_files_on_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">compressed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rfwtools.example.WindowedExample.capture_files_on_disk" title="Permalink to this definition"></a></dt>
<dd><p>Checks if captures files are currently saved to disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>compressed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Are we checking for compressed file (True), or uncompressed (False, default)?</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the compressed file or regular directors were found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.cavity_conf">
<span class="sig-name descname"><span class="pre">cavity_conf</span></span><a class="headerlink" href="#rfwtools.example.WindowedExample.cavity_conf" title="Permalink to this definition"></a></dt>
<dd><p>Cavity label confidence</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.cavity_label">
<span class="sig-name descname"><span class="pre">cavity_label</span></span><a class="headerlink" href="#rfwtools.example.WindowedExample.cavity_label" title="Permalink to this definition"></a></dt>
<dd><p>Expert/model provided cavity label</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.convert_waveform_column_names">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">convert_waveform_column_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rfwtools.example.WindowedExample.convert_waveform_column_names" title="Permalink to this definition"></a></dt>
<dd><p>Turns waveform PV names (R1M1WFSGMES) into more uniform name based on cavity and waveform (1_GMES)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – List of waveform columns from a single zone, i.e., a list of event waveform names to convert.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The updated/standardized column names sans zone identifier.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.data_dir">
<span class="sig-name descname"><span class="pre">data_dir</span></span><a class="headerlink" href="#rfwtools.example.WindowedExample.data_dir" title="Permalink to this definition"></a></dt>
<dd><p>The directory where the waveform data can be found.  None if Config is to be referenced.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.e_type">
<span class="sig-name descname"><span class="pre">e_type</span></span><a class="headerlink" href="#rfwtools.example.WindowedExample.e_type" title="Permalink to this definition"></a></dt>
<dd><p>The type of Example this represents.  Convenient type tracking.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>(<a class="reference internal" href="rfwtools.example.ExampleType.html#rfwtools.example.ExampleType" title="rfwtools.example.ExampleType">ExampleType</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.end">
<span class="sig-name descname"><span class="pre">end</span></span><a class="headerlink" href="#rfwtools.example.WindowedExample.end" title="Permalink to this definition"></a></dt>
<dd><p>(float) The last Time value in the window.  Determined after loading data for the first time.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.event_datetime">
<span class="sig-name descname"><span class="pre">event_datetime</span></span><a class="headerlink" href="#rfwtools.example.WindowedExample.event_datetime" title="Permalink to this definition"></a></dt>
<dd><p>When did the event occur</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>(datetime.datetime)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.event_df">
<span class="sig-name descname"><span class="pre">event_df</span></span><a class="headerlink" href="#rfwtools.example.WindowedExample.event_df" title="Permalink to this definition"></a></dt>
<dd><p>The DataFrame for holding the actual waveform data</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>(pd.DataFrame)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.event_zone">
<span class="sig-name descname"><span class="pre">event_zone</span></span><a class="headerlink" href="#rfwtools.example.WindowedExample.event_zone" title="Permalink to this definition"></a></dt>
<dd><p>Which zone had the event</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.fault_conf">
<span class="sig-name descname"><span class="pre">fault_conf</span></span><a class="headerlink" href="#rfwtools.example.WindowedExample.fault_conf" title="Permalink to this definition"></a></dt>
<dd><p>Fault label confidence</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.fault_label">
<span class="sig-name descname"><span class="pre">fault_label</span></span><a class="headerlink" href="#rfwtools.example.WindowedExample.fault_label" title="Permalink to this definition"></a></dt>
<dd><p>Expert/model provided fault label</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.get_capture_file_contents">
<span class="sig-name descname"><span class="pre">get_capture_file_contents</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rfwtools.example.WindowedExample.get_capture_file_contents" title="Permalink to this definition"></a></dt>
<dd><p>Creates a dictionary of capture file content.  Typically eight files, each is ~1 MB.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of capture file content keyed on the name of the capture file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.get_event_path">
<span class="sig-name descname"><span class="pre">get_event_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">compressed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rfwtools.example.WindowedExample.get_event_path" title="Permalink to this definition"></a></dt>
<dd><p>Generates the expected location for uncompressed event waveform data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>compressed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Should the returned path be for a compressed (tgz) event</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The expected path to uncompressed directory of waveform data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.get_example_type">
<span class="sig-name descname"><span class="pre">get_example_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rfwtools.example.WindowedExample.get_example_type" title="Permalink to this definition"></a></dt>
<dd><p>Get this Example’s ExampleType.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="rfwtools.example.ExampleType.html#rfwtools.example.ExampleType" title="rfwtools.example.ExampleType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExampleType</span></code></a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The Enum corresponding to the class type</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.has_matching_labels">
<span class="sig-name descname"><span class="pre">has_matching_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rfwtools.example.WindowedExample.has_matching_labels" title="Permalink to this definition"></a></dt>
<dd><p>Check if the supplied example has the same cavity and fault type label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>example</strong> (<a class="reference internal" href="rfwtools.example.Example.html#rfwtools.example.Example" title="rfwtools.example.Example"><code class="xref py py-class docutils literal notranslate"><span class="pre">Example</span></code></a>) – A Example object to compare labels against</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if both cavity and fault labels match.  False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.is_capture_file">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_capture_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rfwtools.example.WindowedExample.is_capture_file" title="Permalink to this definition"></a></dt>
<dd><p>Validates if filename appears to be a valid capture file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The name of the file that is to be validated</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the filename appears to be a valid capture file.  Otherwise False.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.label_source">
<span class="sig-name descname"><span class="pre">label_source</span></span><a class="headerlink" href="#rfwtools.example.WindowedExample.label_source" title="Permalink to this definition"></a></dt>
<dd><p>Source of labeles (which model, file, etc.)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rfwtools/example.html#WindowedExample.load_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#rfwtools.example.WindowedExample.load_data" title="Permalink to this definition"></a></dt>
<dd><p>Load the fault event data according to Example.load_data() and retain only the defined time window.</p>
<p>This changes the Time column from being relative to the fault onset to being relative to the start of the
window.  This means that the first time value is unlikely to be exactly 0, but should be a small positive
number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>verbose</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Should extra information be printed during operation</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – If the specified window of data is not available.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.n_samples">
<span class="sig-name descname"><span class="pre">n_samples</span></span><a class="headerlink" href="#rfwtools.example.WindowedExample.n_samples" title="Permalink to this definition"></a></dt>
<dd><p>The number of samples requested after the start value</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.parse_capture_file">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_capture_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rfwtools.example.WindowedExample.parse_capture_file" title="Permalink to this definition"></a></dt>
<dd><p>Parses an individual capture file into a Pandas DataFrame object.</p>
<p>Reads all data in as float64 dtypes because a column of all integers will default to integers (e.g., all zeroes)</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>file (file): A file like object.  Either the string of the filename or a file_like_object</p>
</dd>
<dt>Returns:</dt><dd><p>DataFrame: A pandas DataFrame containing the data from the specified capture file</p>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.parse_event_dir">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_event_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compressed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rfwtools.example.WindowedExample.parse_event_dir" title="Permalink to this definition"></a></dt>
<dd><p>Parses the  capture files in the BaseModel’s event_dir and sets event_df to the appropriate pandas DataFrame.</p>
<p>The waveform names are converted from &lt;EPICS_NAME&gt;&lt;Waveform&gt; (e.g., R123WFSGMES), to &lt;Cavity_Number&gt;_&lt;Waveform&gt;
(e.g., 3_GMES).  This allows analysis code to more easily handle waveforms from different zones.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The path to the event directory or compressed tar.gz file</p></li>
<li><p><strong>compressed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Is the data a compressed tar.gz file or a regular directory</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – if a column name is discovered with an unexpected format</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.plot_waveforms">
<span class="sig-name descname"><span class="pre">plot_waveforms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downsample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rfwtools.example.WindowedExample.plot_waveforms" title="Permalink to this definition"></a></dt>
<dd><p>Plot the waveform data associated with this example.  Optionally down sample the signals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signals</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – A list of signal names to plot, e.g. ‘1_GMES’.  If None, then GMES, DETA2, GASK, CRFP, and PMES will be
plotted for all cavities</p></li>
<li><p><strong>downsample</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The down sampling factor, i.e., keep every &lt;downsample&gt;-th point.  By default keep every 32nd point</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.remove_event_df_from_disk">
<span class="sig-name descname"><span class="pre">remove_event_df_from_disk</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rfwtools.example.WindowedExample.remove_event_df_from_disk" title="Permalink to this definition"></a></dt>
<dd><p>Deletes the ‘cached’ event waveform data for this event from disk.  Both compressed and uncompressed data.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.save_event_df_to_disk">
<span class="sig-name descname"><span class="pre">save_event_df_to_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event_df</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rfwtools.example.WindowedExample.save_event_df_to_disk" title="Permalink to this definition"></a></dt>
<dd><p>This method is saves the event waveform DataFrame to disk.  Can provide faster access to ‘raw’ data later.</p>
<p>If capture files already exist, it won’t try to overwrite them.  Does nothing if event_path is None.  Note that
every capture file will end up with the same timestamp as self.event_datetime.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>event_df</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>) – The DataFrame for which we should create a fault event directory of capture files.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.start">
<span class="sig-name descname"><span class="pre">start</span></span><a class="headerlink" href="#rfwtools.example.WindowedExample.start" title="Permalink to this definition"></a></dt>
<dd><p>The start of the window relative to the fault onset</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.to_string">
<span class="sig-name descname"><span class="pre">to_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rfwtools.example.WindowedExample.to_string" title="Permalink to this definition"></a></dt>
<dd><p>This provides a more descriptive string than __str__.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string representation of the example including zone, time, label info, and label source.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rfwtools.example.WindowedExample.unload_data">
<span class="sig-name descname"><span class="pre">unload_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rfwtools.example.WindowedExample.unload_data" title="Permalink to this definition"></a></dt>
<dd><p>Top-level method for deleting the Examples data (event_df) from memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>verbose</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Should extra information be printed to STDOUT</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="rfwtools.example.IExample.html" class="btn btn-neutral float-left" title="rfwtools.example.IExample" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="rfwtools.example_set.html" class="btn btn-neutral float-right" title="rfwtools.example_set" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Jefferson Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>